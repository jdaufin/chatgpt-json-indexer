# ChatGPT JSON Indexer
## Overview
The **ChatGPT JSON Indexer** is a Python utility designed to process and export conversation archives generated by ChatGPT (or similar systems) in JSON format. This tool features an **interactive terminal-based user interface (TUI)** to allow users to select specific conversations for export and format them into Markdown files.
### Main Features:
1. **Interactive TUI (Text User Interface)**:
    - Browse and select specific conversations from a JSON archive.
    - Easily toggle selections and scroll through long lists.

2. **Export Conversations**:
    - Selected conversations are converted into structured Markdown files for ease of sharing, editing, or archiving.

3. **Flexible Output**:
    - Specify a custom output directory to save exported conversations.
    - Each conversation is saved in a separate Markdown file, titled appropriately using the conversation's name.

## Requirements
### Prerequisites
1. **Python Version**: Python 3.7 or higher (tested on Python 3.13).
2. **Modules**:
    - `json`
    - `argparse`
    - `curses`
    - `pathlib`
    - `os`

These modules are part of the Python Standard Library, so no additional installation should be necessary.
## Installation
### Clone the Project
Clone this repository into your workspace:
``` bash
git clone https://github.com/jdaufin/chatgpt-json-indexer.git
cd chatgpt-json-indexer
```
## Usage
The script provides a command-line interface with optional parameters to enable a TUI or direct usage. Here's how to use it in your terminal:
### Syntax
``` bash
python chatgpt_json_indexer.py [OPTIONS] <path-to-json>
```
### Command-Line Arguments:
1. `<path-to-json>` (required): Path to the exported JSON file containing ChatGPT conversations.
2. `--tui` (optional): Enables the Text User Interface for interactive selection of conversations before export. 
3. `--output_dir <directory>` (optional): Specifies the directory where the exported Markdown files will be saved. Defaults to `exports`.

### Example Commands:
#### Export All Conversations with TUI:
``` bash
python chatgpt_json_indexer.py --tui conversations.json
```
#### Export to a Custom Directory:
``` bash
python chatgpt_json_indexer.py --tui --output_dir output_folder conversations.json
```
## How It Works
### JSON to Markdown Conversion
The tool parses the JSON file containing ChatGPT conversations and processes each conversation into Markdown format.
#### Sample JSON Input:
``` json
{
    "title": "Sample Conversation",
    "mapping": {
        "1": {
            "message": {
                "author": {"role": "user"},
                "content": {"parts": ["Hello!"]},
                "create_time": 1692003112
            }
        },
        "2": {
            "message": {
                "author": {"role": "assistant"},
                "content": {"parts": ["Hi there! How can I help you?"]},
                "create_time": 1692003150
            }
        }
    }
}
```
#### Example Markdown Output:
``` markdown
# Sample Conversation

**User** (2023-08-14 10:31:52):

Hello!

---

**Assistant** (2023-08-14 10:32:30):

Hi there! How can I help you?

---
```
### TUI (Text User Interface)
When using `--tui`, the program opens an interactive screen where: 
- You can see a list of all conversations alongside their titles and timestamps.
- Use the **arrow keys** to scroll between conversations.
- Press **spacebar** to select/deselect conversations for export.
- Press **Enter** to confirm your selection and begin exporting.

Controls in the TUI:
- **Arrow Up/Down**: Navigate the list.
- **Spacebar**: Toggle selection of a conversation.
- **Enter**: Confirm selection and start exporting.
- **Q**: Quit the TUI without making any changes.

## Limitations
- The tool assumes specific JSON formats. Custom/irregular JSON files might require modification in the `load_conversations` or `write_messages` functions.
- The TUI relies on `curses`, which may not work properly in all terminal environments, such as Windows CMD (use WSL or a Linux-based terminal as a fallback).

## Contributing
Contributions are welcome! Feel free to fork the repository and submit a pull request for bug fixes, improvements, or new features.
To contribute:
1. Fork this repository.
2. Create a new branch for your changes.
3. Submit a Pull Request describing your updates.

## License
This project is licensed under the GPLv3 license. See the `LICENSE` file for details. 
## Contact
For issues, suggestions, or feedback, feel free to reach out:
- **Project Maintainer**: jdaufin
- **GitHub**: https://github.com/jdaufin/
